---
layout: single
title:  "[íŒŒì´ì¬ ê¸°ì´ˆ] 12. Numpy_numpyë¥¼ ì´ìš©í•˜ì—¬ pi(ì›ì£¼ìœ¨) ê°’ì„ ê³„ì‚°í•˜ê¸°"
categories: [numpy]
tag: [python, ë¬¸ì œí’€ì´, pi, Mote Carlo, ì›ì£¼ìœ¨êµ¬í•˜ê¸°]
toc: true
highlight: false
header:
  teaser: /assets/images/numpy/numpy.png
  overlay_image: /assets/images/numpy/numpy.png
  overlay_filter: 0.5
  caption: "Photo credit: [**Unsplash**](https://unsplash.com/photos/52jRtc2S_VE)"
---

numpyë¥¼ í™œìš©í•´ ì›ì£¼ìœ¨ì„ êµ¬í•˜ëŠ” Mote Carlo Simulatinoì„ ì‹œê°í™” í•©ë‹ˆë‹¤.

<head>
  <style>
    table.dataframe {
      white-space: normal;
      width: 100%;
      height: 240px;
      display: block;
      overflow: auto;
      font-family: Arial, sans-serif;
      font-size: 0.9rem;
      line-height: 20px;
      text-align: center;
      border: 0px !important;
    }

    table.dataframe th {
      text-align: center;
      font-weight: bold;
      padding: 8px;
    }

    table.dataframe td {
      text-align: center;
      padding: 8px;
    }

    table.dataframe tr:hover {
      background: #b8d1f3; 
    }

    .output_prompt {
      overflow: auto;
      font-size: 0.9rem;
      line-height: 1.45;
      border-radius: 0.3rem;
      -webkit-overflow-scrolling: touch;
      padding: 0.8rem;
      margin-top: 0;
      margin-bottom: 15px;
      font: 1rem Consolas, "Liberation Mono", Menlo, Courier, monospace;
      color: $code-text-color;
      border: solid 1px $border-color;
      border-radius: 0.3rem;
      word-break: normal;
      white-space: pre;
    }

  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: center !important;
      padding: 8px;
  }

  .page__content p {
      margin: 0 0 0px !important;
  }

  .page__content p > strong {
    font-size: 0.8rem !important;
  }

  </style>
</head>


# numpyë¡œ ì›ì£¼ìœ¨ê°’ êµ¬í•˜ê¸°



![image.png](attachment:image.png)

ì´ë¯¸ì§€ ì¶œì²˜ : https://byun1114.tistory.com/1071



- ì¶©ë¶„íˆ ë§ì€ ì ì„ ëœë¤ìœ¼ë¡œ ì°ì„ë•Œ, ë„¤ëª¨ì˜ 1/4 ë„“ì´ ì•ˆì— ë“¤ì–´ê°ˆ í™•ë¥ ì€ 4ë¶„ì›ì˜ í¬ê¸°ë¥¼ ë„¤ëª¨ì˜ í¬ê¸°ë¡œ ë‚˜ëˆˆ ê°’ê³¼ ê°™ë‹¤.

- ì´ë¥¼ í™œìš©í•´ ì›ì£¼ìœ¨ê°’ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.



```python
import numpy as np
```

- ì›ì˜ ë„“ì´ëŠ” 1 * 1 ì´ë¯€ë¡œ 1

- 4ë¶„ì›ì˜ ë„“ì´ëŠ” ì›ì˜ ë„“ì´ì¸ ğ… * Rì˜ ì œê³±ì„ 4ë¡œ ë‚˜ëˆˆ ê°’ì´ë‹¤.

- ì¦‰ ğ…/4 ê°€ ëœë‹¤.  (í˜„ì¬ ë„¤ëª¨ì—ì„œ Rì€ 1)


- **ì›ì˜ ë„“ì´ : ë„¤ëª¨ì˜ ë„“ì´**





pi / 4 : 1 = (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) : ì „ì²´ (ì ì„ ì°ëŠ”)ì‹œë„ íšŸìˆ˜


pi = 4 * (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) / ì „ì²´ ì‹œë„ íšŸìˆ˜


## ëœë¤ìœ¼ë¡œ ì ì„ ì°ëŠ” ì´ íšŸìˆ˜ í‘œí˜„



```python
# ì „ì²´ ì‹œë„ íšŸìˆ˜ë¥¼ ì²œë§Œë²ˆ (10ì˜ 7ì œê³±)ì´ë¼ ê°€ì •
total_trial = int(1e7)

# ì ì„ ì°ì€ íšŸìˆ˜
# 0 ~ 1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ randì‚¬ìš©
points = np.random.rand(total_trial,2)

points
```

<pre>
array([[0.49354421, 0.75833051],
       [0.86829397, 0.92375882],
       [0.72372899, 0.3364979 ],
       ...,
       [0.27542163, 0.9882378 ],
       [0.06996705, 0.31490832],
       [0.55447043, 0.12300586]])
</pre>

```python
# í–‰ì€ 1000ë§Œê°œ,  ì—´ì€ 2ê°œê°€ ìˆëŠ” í–‰ë ¬ ìƒì„±
# ì—´ì€ x,y ì¢Œí‘œ, 10000ë§Œê°œëŠ” ê°ê°ì˜ ì ì„ ì˜ë¯¸
points.shape
```

<pre>
(10000000, 2)
</pre>
## 4ë¶„ì›ì˜ ë„“ì´ êµ¬í•˜ê¸°



- ìœ„ì˜ ê·¸ë¦¼ì—ì„œ íŒŒë€ì„  ì•ˆìª½ì˜ ë²”ìœ„

- x^2 + y^2ì´ >= 1ì´ë©´ ì›ì•ˆì˜ ì¢Œí‘œì´ë‹¤.



```python
# ê° ì ì˜ ì œê³±í•œ ê°’
points ** 2

# ì—¬ê¸°ì„œ ì œê³±í•œ ê°’ì—ì„œ x + yë¥¼ ê³„ì‚°í•´ì•¼ í•œë‹¤. -> np.sumí™œìš© 
```

<pre>
array([[0.24358589, 0.57506517],
       [0.75393442, 0.85333036],
       [0.52378365, 0.11323084],
       ...,
       [0.07585707, 0.97661396],
       [0.00489539, 0.09916725],
       [0.30743746, 0.01513044]])
</pre>

```python
# í–‰ë ¬ì—ì„œ 'ì—´' ì„ ë”°ë¼ ê³„ì‚° (axis=1)
np.sum(points ** 2, axis=1)
```

<pre>
array([0.81865105, 1.60726477, 0.63701449, ..., 1.05247103, 0.10406264,
       0.3225679 ])
</pre>
ìœ„ì˜ ê°’ì´ 1ë³´ë‹¤ ì‘ìœ¼ë©´ ì› ì•ˆì— ë“¤ì–´ê°€ëŠ” ê²ƒ



```python
# x+yê°€ 1ë³´ë‹¤ ì‘ì€ì§€ í•„í„°ë§
np.sum(points ** 2, axis=1) < 1
```

<pre>
array([ True, False,  True, ..., False,  True,  True])
</pre>
- np.sum(points ** 2, axis=1) ì˜ ê²°ê³¼ëŠ” ë²¡í„°

- ~ <1 ì˜ ê²°ê³¼ëŠ” scalar ì´ë‹¤. 

- ë”°ë¼ì„œ numpy broadcastingì´ ì ìš©ë˜ë©´ì„œ booleanì´ ëœë‹¤.

---

- ì—¬ê¸°ì„œ ìµœì¢…ì ìœ¼ë¡œ ì•Œê³ ì í•˜ëŠ” ê²ƒì€ 1ì´ìƒì¸ ìˆ˜ì˜ 'ê°œìˆ˜' ì´ë‹¤. -> np.sum() í™œìš© (TrueëŠ” 1ì¸ ê²ƒì„ í™œìš©)



```python
# ì²œë§Œê°œì˜ ì ì¤‘ì—ì„œ 4ë¶„ì› ì•ˆì— ë“¤ì–´ê°„ ì ì˜ ê°œìˆ˜
np.sum(np.sum(points ** 2, axis=1) < 1)
```

<pre>
7851866
</pre>
pi = 4 * (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) / ì „ì²´ ì‹œë„ íšŸìˆ˜



```python
4 * np.sum(np.sum(points ** 2, axis=1) < 1) / total_trial
```

<pre>
3.1407464
</pre>
ì™„ë²½í•˜ê²Œ piì˜ ê°’ì´ ì •í™•í•˜ê²Œ ë‚˜ì˜¤ì§€ëŠ” ì•Šì§€ë§Œ ê·¼ì‚¬ì¹˜ì˜ ê°’ì€ êµ¬í•  ìˆ˜ ìˆë‹¤.

