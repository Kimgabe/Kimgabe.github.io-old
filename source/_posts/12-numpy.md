---
title: "[íŒŒì´ì¬ ê¸°ì´ˆ] 12. Numpy_numpyë¥¼ ì´ìš©í•˜ì—¬ pi(ì›ì£¼ìœ¨) ê°’ì„ ê³„ì‚°í•˜ê¸°"
cover: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=1920&h=1080&fit=crop"
date: 2021-07-14
categories:
  - [personal-study, numpy]
tags:
  - python
  - ë¬¸ì œí’€ì´
  - pi
  - Mote Carlo
  - ì›ì£¼ìœ¨êµ¬í•˜ê¸°
toc: true
---
numpyë¥¼ í™œìš©í•´ ì›ì£¼ìœ¨ì„ êµ¬í•˜ëŠ” Mote Carlo Simulatinoì„ ì‹œê°í™” í•©ë‹ˆë‹¤.

# numpyë¡œ ì›ì£¼ìœ¨ê°’ êµ¬í•˜ê¸°

![image.png](attachment:image.png)

ì´ë¯¸ì§€ ì¶œì²˜ : https://byun1114.tistory.com/1071

- ì¶©ë¶„íˆ ë§ì€ ì ì„ ëœë¤ìœ¼ë¡œ ì°ì„ë•Œ, ë„¤ëª¨ì˜ 1/4 ë„“ì´ ì•ˆì— ë“¤ì–´ê°ˆ í™•ë¥ ì€ 4ë¶„ì›ì˜ í¬ê¸°ë¥¼ ë„¤ëª¨ì˜ í¬ê¸°ë¡œ ë‚˜ëˆˆ ê°’ê³¼ ê°™ë‹¤.

- ì´ë¥¼ í™œìš©í•´ ì›ì£¼ìœ¨ê°’ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.

```python
import numpy as np
```

- ì›ì˜ ë„“ì´ëŠ” 1 * 1 ì´ë¯€ë¡œ 1

- 4ë¶„ì›ì˜ ë„“ì´ëŠ” ì›ì˜ ë„“ì´ì¸ ğ… * Rì˜ ì œê³±ì„ 4ë¡œ ë‚˜ëˆˆ ê°’ì´ë‹¤.

- ì¦‰ ğ…/4 ê°€ ëœë‹¤.  (í˜„ì¬ ë„¤ëª¨ì—ì„œ Rì€ 1)

- **ì›ì˜ ë„“ì´ : ë„¤ëª¨ì˜ ë„“ì´**

pi / 4 : 1 = (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) : ì „ì²´ (ì ì„ ì°ëŠ”)ì‹œë„ íšŸìˆ˜

pi = 4 * (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) / ì „ì²´ ì‹œë„ íšŸìˆ˜

## ëœë¤ìœ¼ë¡œ ì ì„ ì°ëŠ” ì´ íšŸìˆ˜ í‘œí˜„

```python
# ì „ì²´ ì‹œë„ íšŸìˆ˜ë¥¼ ì²œë§Œë²ˆ (10ì˜ 7ì œê³±)ì´ë¼ ê°€ì •
total_trial = int(1e7)

# ì ì„ ì°ì€ íšŸìˆ˜
# 0 ~ 1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ randì‚¬ìš©
points = np.random.rand(total_trial,2)

points
```


array([[0.49354421, 0.75833051],
       [0.86829397, 0.92375882],
       [0.72372899, 0.3364979 ],
       ...,
       [0.27542163, 0.9882378 ],
       [0.06996705, 0.31490832],
       [0.55447043, 0.12300586]])


```python
# í–‰ì€ 1000ë§Œê°œ,  ì—´ì€ 2ê°œê°€ ìˆëŠ” í–‰ë ¬ ìƒì„±
# ì—´ì€ x,y ì¢Œí‘œ, 10000ë§Œê°œëŠ” ê°ê°ì˜ ì ì„ ì˜ë¯¸
points.shape
```


(10000000, 2)

## 4ë¶„ì›ì˜ ë„“ì´ êµ¬í•˜ê¸°

- ìœ„ì˜ ê·¸ë¦¼ì—ì„œ íŒŒë€ì„  ì•ˆìª½ì˜ ë²”ìœ„

- x^2 + y^2ì´ >= 1ì´ë©´ ì›ì•ˆì˜ ì¢Œí‘œì´ë‹¤.

```python
# ê° ì ì˜ ì œê³±í•œ ê°’
points ** 2

# ì—¬ê¸°ì„œ ì œê³±í•œ ê°’ì—ì„œ x + yë¥¼ ê³„ì‚°í•´ì•¼ í•œë‹¤. -> np.sumí™œìš© 
```


array([[0.24358589, 0.57506517],
       [0.75393442, 0.85333036],
       [0.52378365, 0.11323084],
       ...,
       [0.07585707, 0.97661396],
       [0.00489539, 0.09916725],
       [0.30743746, 0.01513044]])


```python
# í–‰ë ¬ì—ì„œ 'ì—´' ì„ ë”°ë¼ ê³„ì‚° (axis=1)
np.sum(points ** 2, axis=1)
```


array([0.81865105, 1.60726477, 0.63701449, ..., 1.05247103, 0.10406264,
       0.3225679 ])

ìœ„ì˜ ê°’ì´ 1ë³´ë‹¤ ì‘ìœ¼ë©´ ì› ì•ˆì— ë“¤ì–´ê°€ëŠ” ê²ƒ

```python
# x+yê°€ 1ë³´ë‹¤ ì‘ì€ì§€ í•„í„°ë§
np.sum(points ** 2, axis=1) 
array([ True, False,  True, ..., False,  True,  True])

- np.sum(points ** 2, axis=1) ì˜ ê²°ê³¼ëŠ” ë²¡í„°

- ~  np.sum() í™œìš© (TrueëŠ” 1ì¸ ê²ƒì„ í™œìš©)

```python
# ì²œë§Œê°œì˜ ì ì¤‘ì—ì„œ 4ë¶„ì› ì•ˆì— ë“¤ì–´ê°„ ì ì˜ ê°œìˆ˜
np.sum(np.sum(points ** 2, axis=1) 
7851866

pi = 4 * (4ë¶„ì› ì•ˆì— ìƒì„±ëœ ì ì˜ ê°œìˆ˜) / ì „ì²´ ì‹œë„ íšŸìˆ˜

```python
4 * np.sum(np.sum(points ** 2, axis=1) 
3.1407464

ì™„ë²½í•˜ê²Œ piì˜ ê°’ì´ ì •í™•í•˜ê²Œ ë‚˜ì˜¤ì§€ëŠ” ì•Šì§€ë§Œ ê·¼ì‚¬ì¹˜ì˜ ê°’ì€ êµ¬í•  ìˆ˜ ìˆë‹¤.

